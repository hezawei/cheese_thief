---
name: debug-fix
description: 修bug找根因，不是头痛医头脚痛医脚
---

# Bug 修复

修 bug 最重要的是找到问题的根本原因，不是在报错的地方打个补丁就完事。

## 修 bug 的流程

先搞清楚问题是什么。拿到完整的错误信息，知道怎么复现问题。

然后顺着错误堆栈往上找，看看问题到底出在哪。很多时候报错的地方不是真正出问题的地方，要往上追。

分析一下是什么原因导致的。常见的就这几类：数据有问题比如空值或者类型不对，逻辑写错了比如判断条件不对，依赖的接口返回变了，或者并发导致的状态混乱。

找到原因后在源头修复，不要在下游打补丁。修完之后要验证，不光测原来的场景，边界情况也要测一下。

## 调试的时候

后端可以加日志看变量状态，或者用 pdb 断点调试。

前端可以 console.log 看状态，或者用 Vue DevTools 查看组件的数据。

## 不要这样做

不要捕获异常后什么都不做，那等于把问题藏起来了。
不要用 try-except 把整个函数包起来，这样出了问题根本不知道哪里错。
不要不理解原因就瞎改代码碰运气。
不要为了修一个 bug 引入新的 bug.
